(()=>{"use strict";const t=(()=>{let t="default";const e={default:{todoList:[]}};function o(){return console.log(e[t]),e[t]}return{addProject:function(t){e[t]={todoList:[]}},setCurrentProject:function(e){t=e},getProjects:function(){return console.log(e),e},getCurrentProject:o,addTodo:function(o){const n={title:(d=o).title,description:d.description,dueDate:d.dueDate,priority:d.priority,id:Math.floor(1e4*Math.random())};var d;e[t].todoList.push(n)},removeTodo:function(n){const d=o().todoList.indexOf(e[t].todoList.find((t=>t.id===n)));e[t].todoList.splice(d,1)},getCurrentTodoList:function(){return e[t].todoList}}})(),e=(()=>{const t=document.querySelector("#todos-container"),e=document.querySelector(".btn.add-new"),o=document.querySelector(".modal"),n=document.getElementById("new-todo-form"),d=document.getElementById("title"),r=document.getElementById("description"),i=document.getElementById("due-date"),s=document.getElementById("priority"),c=document.getElementById("btn-submit-todo"),a=document.getElementById("new-project-form"),l=document.getElementById("btn-new-project"),u=document.querySelector(".project-modal"),m=document.getElementById("btn-submit-project"),L=document.getElementById("project-title"),p=document.querySelector(".todos-nav");return e.addEventListener("click",(()=>{o.classList.remove("hidden")})),window.addEventListener("keydown",(t=>{"Escape"===t.code&&o.classList.add("hidden")})),window.addEventListener("mousedown",(t=>{t.target.classList.contains("modal")&&o.classList.add("hidden")})),c.addEventListener("click",(()=>{o.classList.add("hidden")})),l.addEventListener("click",(()=>{u.classList.remove("hidden")})),window.addEventListener("keydown",(t=>{"Escape"===t.code&&u.classList.add("hidden")})),window.addEventListener("mousedown",(t=>{t.target.classList.contains("modal")&&u.classList.add("hidden")})),m.addEventListener("click",(()=>{u.classList.add("hidden")})),console.log(p),{renderTodoList:function(e){for(;t.childElementCount>1;)t.removeChild(t.lastElementChild);e.forEach((e=>function(e){t.appendChild(e)}(function(t){const e=document.createElement("div");e.classList.add("todo-container");const o=document.createElement("h3");o.classList.add("todo-title"),o.textContent=t.title;const n=document.createElement("p");n.classList.add("todo-description"),n.textContent=t.description;const d=document.createElement("span");d.classList.add("todo-dueDate"),d.textContent=t.dueDate;const r=document.createElement("span");return r.classList.add("todo-priority"),r.textContent=t.priority,e.append(o,n,d,r),e}(e))))},getTodoFormValues:function(){return{title:d.value,description:r.value,dueDate:i.value,priority:s.value}},newTodoForm:n,newProjectForm:a,getNewProjectTitle:function(){return L.value},appendNewProject:function(t){p.append(function(t){const e=document.createElement("span");return e.textContent=t,e.setAttribute("data-project-title",t),e}(t))},todosNav:p}})();window.addEventListener("DOMContentLoaded",(()=>{t.getProjects(),t.getCurrentProject(),t.getCurrentTodoList(),e.renderTodoList(t.getCurrentTodoList())})),e.newTodoForm.addEventListener("submit",(o=>{o.preventDefault(),t.addTodo(e.getTodoFormValues()),e.renderTodoList(t.getCurrentTodoList()),localStorage.setItem("projects",JSON.stringify(t.getProjects())),e.newTodoForm.reset()})),e.newProjectForm.addEventListener("submit",(o=>{o.preventDefault(),t.addProject(e.getNewProjectTitle()),e.appendNewProject(e.getNewProjectTitle()),e.todosNav.lastElementChild.addEventListener("click",(o=>{console.log(o.target.dataset.projectTitle),t.setCurrentProject(o.target.dataset.projectTitle),e.renderTodoList(t.getCurrentTodoList())})),localStorage.setItem("projects",JSON.stringify(t.getProjects())),e.newProjectForm.reset()}))})();
//# sourceMappingURL=main.js.map